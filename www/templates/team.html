<ion-view view-title="{{ team.name || 'Team' }}">
  <ion-nav-buttons side="secondary">
    <button class="button button-icon button-clear ion-ios-refresh-empty" ng-click="refresh()" ng-class="{ 'ion-ios7-reloading': ajaxing }"></button>
  </ion-nav-buttons>

  <ion-content has-subheader>
    <ion-refresher pulling-text="Pull to refresh..." on-refresh="refresh()"></ion-refresher>

    <ion-scroll direction="x" ng-show="team">
      <table class="team-player-list" cellpadding="0" cellspacing="0">
        <thead>
          <tr>
            <th rowspan="2">
              Pos
            </th>

            <th rowspan="2">
              Player

              <br/>

              <em class="adjustment">
                (bye)
              </em>
            </th>

            <th rowspan="2">
              Rank
            </th>

            <th rowspan="2">
              Opponent

              <br/>

              <em class="adjustment">
                (rank)
              </em>
            </th>

            <th colspan="3">
              Points
            </th>

            <th rowspan="2">
              Owned
            </th>

            <th rowspan="2">
              Started
            </th>

            <th rowspan="2">
              Salary
            </th>
          </tr>

          <tr>
            <th>
              Average
            </th>

            <th>
              Projected
            </th>

            <th>
              Last
            </th>
          </tr>
        </thead>

        <tbody>
          <tr ng-repeat="startingPosition in team.startingPositions" ng-hold="assignPosition(startingPosition)">
            <th class="position" ng-click="assignPosition(startingPosition)" highlighter="startingPosition.player.playerId">
              {{ startingPosition.slotLabel }}

              <div class="action-icon"><!-- ng-if="team.editable" -->
                <i class="icon ion-locked stable" ng-if="startingPosition.player.isLocked"></i>
                <i class="icon ion-arrow-swap positive" ng-if="!startingPosition.player.isLocked"></i>
              </div>
            </th>

            <td>
              <span ng-if="startingPosition.player">
                {{ startingPosition.player | playerDisplayName }}

                <span class="player-team">
                  {{ startingPosition.player | nflTeam }}

                  <em class="adjustment"> <!-- @todo: hide once bye has passed? -->
                    ({{ startingPosition.player.byeWeek }})
                  </em>
                </span>
              </span>

              <em ng-if="!startingPosition.player" class="empty assertive">
                (empty)
              </em>
            </td>

            <td class="rank">
              <span ng-if="startingPosition.player" class="number">
                {{ startingPosition.player.posRank | nullIf:0 }}
              </span>
            </td>

            <td class="rank">
              <span ng-if="startingPosition.player">
                {{ startingPosition.player.opponent }}

                <em class="adjustment">
                  ({{ startingPosition.player.oppRank }})
                </em>
              </span>
            </td>

            <td class="number">
              <span ng-if="startingPosition.player">
                {{ startingPosition.player.projPoints | toFixed:1 }}
              </span>
            </td>

            <td class="number">
              <span ng-if="startingPosition.player">
                {{ startingPosition.player.avgPoints | toFixed:1 }}
              </span>
            </td>

            <td class="number">
              <span ng-if="startingPosition.player">
                {{ startingPosition.player.lastPoints | toFixed:1 }}
              </span>
            </td>

            <td class="number">
              <span ng-if="startingPosition.player">
                {{ startingPosition.player.percentOwned | toFixed:0 }}%
              </span>
            </td>

            <td class="number">
              <span ng-if="startingPosition.player">
                {{ startingPosition.player.percentStarted | toFixed:0 }}%
              </span>
            </td>

            <td class="number">
              <span ng-if="startingPosition.player">
                ${{ startingPosition.player.salary | toCommaSeparated }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </ion-scroll>
  </ion-content>
</ion-view>
