<ion-view view-title="🏈 Game">
  <ion-nav-buttons side="primary">
    <button class="button button-icon button-clear ion-ios-list-outline" ui-sref="app.scoreboards-for-week({ leagueId: leagueId, week: week })"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="secondary">
    <button class="button button-icon button-clear ion-ios-refresh-empty" ng-click="refresh()" ng-class="{ 'ion-ios7-reloading': ajaxing }"></button>
  </ion-nav-buttons>
  <ion-content>
    <ion-refresher pulling-text="Pull to refresh..." on-refresh="refresh()"></ion-refresher>
    <div id="game-summary" class="row">
      <div class="col col-50 left-side">
        <h4 class="team-name one-liner">
          {{ awayTeam.name }}
        </h4>
        <div class="row scoring-summary">
          <div class="col-75 scoring-values">
            <div class="scoring-total title">
              <span class="remaining">
                ({{ awayTeam.summary.playerTimeRemaining }})
              </span>
              <span class="">
                {{ awayTeam.summary.totalPoints }}
              </span>
            </div>
            <div class="scoring-projected">
              {{ awayTeam.summary.projectedPoints }}
            </div>
          </div>
          <div class="col-25 team-image">
            <img src="http://www.realitysportsonline.com/{{ awayTeam.imageUrl }}" width="90%" />
          </div>
        </div>
      </div>
      <div class="col col-50 right-side">
        <h4 class="team-name one-liner">
          {{ homeTeam.name }}
        </h4>
        <div class="row scoring-summary">
          <div class="col-25 team-image">
            <img src="http://www.realitysportsonline.com/{{ homeTeam.imageUrl }}" width="90%" />
          </div>
          <div class="col-75 scoring-values">
            <div class="scoring-total title">
              <span class="">
                {{ homeTeam.summary.totalPoints }}
              </span>
              <span class="remaining">
                ({{ homeTeam.summary.playerTimeRemaining }})
              </span>
            </div>
            <div class="scoring-projected">
              {{ homeTeam.summary.projectedPoints }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="last-updated">
      <div ng-show="ajaxing">
        loading...
      </div>
      <div ng-hide="ajaxing || !lastUpdatedAgo">
        <em>last updated {{ lastUpdatedAgo }} ago</em>
      </div>
    </div>
    <div id="player-scoring">
      <div class="list" ng-repeat="(status, positions) in playerScoringData">
        <div class="item item-divider">
          {{ status }}
        </div>
        <div class="player-score" ng-repeat="(position, players) in positions">
          <div class="item" ng-repeat="playerData in players">
            <div class="row row-center player-comparison">
              <div class="col col-player" toggle-class="detail-view">
                <div class="row">
                  <div class="col player-name one-liner">
                    {{ playerData.away.name|| '&nbsp;' }}
                    <span class="player-team">
                      {{ playerData.away.team }}
                    </span>
                  </div>
                </div>
                <div class="row row-bottom">
                  <div class="col col-points player-points number positive">
                    {{ playerData.away.points|| '&nbsp;' }}
                  </div>
                  <div class="col col-name">
                    <div class="player-game-status one-liner dark">
                      {{ playerData.away.gameStatus.opponent }}
                      {{ playerData.away.gameStatus.score }}
                      {{ playerData.away.gameStatus.timeRemaining }}
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col player-stats one-liner">
                    {{ playerData.away.statLine|| '&nbsp;' }}
                  </div>
                </div>
              </div>
              <div class="col col-position player-position">
                {{ position }}
              </div>
              <div class="col col-player" toggle-class="detail-view">
                <div class="row">
                  <div class="col player-name one-liner">
                    {{ playerData.home.name }}
                    <span class="player-team">
                      {{ playerData.home.team }}
                    </span>
                  </div>
                </div>
                <div class="row row-bottom">
                  <div class="col col-name">
                    <div class="player-game-status one-liner dark">
                      {{ playerData.home.gameStatus.opponent }}
                      {{ playerData.home.gameStatus.score }}
                      {{ playerData.home.gameStatus.timeRemaining }}
                    </div>
                  </div>
                  <div class="col col-points player-points number positive">
                    {{ playerData.home.points }}
                  </div>
                </div>
                <div class="row">
                  <div class="col player-stats one-liner">
                    {{ playerData.home.statLine }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
