/**
 * @license
 * lodash 3.5.0 (Custom Build) lodash.com/license | Underscore.js 1.8.2 underscorejs.org/LICENSE
 * Build: `lodash modern include="all,chain,find,flatten,isEmpty,map,max,object,pluck,reduce,reject,sortBy,throttle,value" --production --output www/lib/lodash/lodash.custom.min.js iife="!function(window,freeGlobal,undefined){%output%}(this)"`
 */
;!function(t,n,r){function e(t){return typeof t=="function"||false}function o(t){return t.charCodeAt(0)}function i(t,n){var r;t:{r=t.a;var e=n.a;if(r!==e){var o=r===r,i=e===e;if(r>e||!o||typeof r=="undefined"&&i){r=1;break t}if(r<e||!i||typeof e=="undefined"&&o){r=-1;break t}}r=0}return r||t.b-n.b}function u(t){return t&&typeof t=="object"||false}function a(t){if(u(t)&&!(Sr(t)||t instanceof l)){if(t instanceof f)return t;if(cr.call(t,"__chain__")&&cr.call(t,"__wrapped__"))return Q(t)}return new f(t)}function c(){}function f(t,n,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!n
}function l(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=false,this.__iteratees__=null,this.__takeCount__=xr,this.__views__=null}function s(t,n){var r=-1,e=t.length;for(n||(n=Array(e));++r<e;)n[r]=t[r];return n}function _(t,n){for(var r=-1,e=t.length;++r<e&&false!==n(t[r],r,t););return t}function p(t,n){for(var r=-1,e=t.length;++r<e;)if(!n(t[r],r,t))return false;return true}function h(t,n){for(var r=-1,e=t.length,o=-1,i=[];++r<e;){var u=t[r];n(u,r,t)&&(i[++o]=u)
}return i}function v(t,n){for(var r=-1,e=t.length,o=Array(e);++r<e;)o[r]=n(t[r],r,t);return o}function y(t,n,r,e){var o=-1,i=t.length;for(e&&i&&(r=t[++o]);++o<i;)r=n(r,t[o],o,t);return r}function g(t,n,r){r||(r=n,n={});for(var e=-1,o=r.length;++e<o;){var i=r[e];n[i]=t[i]}return n}function d(t,n,r){var e=typeof t;if("function"==e){if(e=typeof n!="undefined"){var e=a.support,o=!(e.funcNames?t.name:e.funcDecomp);if(!o){var i=ar.call(t);e.funcNames||(o=!Yn.test(i)),o||(o=qn.test(i)||sn(t),Nr(t,o))}e=o
}return e?C(t,n,r):t}return null==t?bn:"object"==e?O(t):typeof n=="undefined"?N(t+""):R(t+"",n)}function b(t,n,r,e,o,i,u){var a;if(r&&(a=o?r(t,e,o):r(t)),typeof a!="undefined")return a;if(!ln(t))return t;if(e=Sr(t)){if(a=P(t),!n)return s(t,a)}else{var c=fr.call(t),f=c==In;if(c!=Rn&&c!=An&&(!f||o))return Kn[c]?Y(t,c,n):o?t:{};if(a=V(f?{}:t),!n)return g(t,a,Cr(t))}for(i||(i=[]),u||(u=[]),o=i.length;o--;)if(i[o]==t)return u[o];return i.push(t),u.push(a),(e?_:x)(t,function(e,o){a[o]=b(e,n,r,o,t,i,u)}),a
}function m(t,n){var r=t?t.length:0;if(!J(r))return x(t,n);for(var e=-1,o=K(t);++e<r&&false!==n(o[e],e,o););return t}function w(t,n){var r=true;return m(t,function(t,e,o){return r=!!n(t,e,o)}),r}function j(t,n){var r=[];return m(t,function(t,e,o){n(t,e,o)&&r.push(t)}),r}function A(t,n,r,e){var o;return r(t,function(t,r,i){return n(t,r,i)?(o=e?r:t,false):void 0}),o}function k(t,n,r,e){e-=1;for(var o=t.length,i=-1,a=[];++e<o;){var c=t[e];if(u(c)&&J(c.length)&&(Sr(c)||fn(c))){n&&(c=k(c,n,r,0));var f=-1,l=c.length;
for(a.length+=l;++f<l;)a[++i]=c[f]}else r||(a[++i]=c)}return a}function x(t,n){for(var r=Cr,e=-1,o=K(t),r=r(t),i=r.length;++e<i;){var u=r[e];if(false===n(o[u],u,o))break}return t}function E(t,n){for(var r=-1,e=n.length,o=-1,i=[];++r<e;){var u=n[r];$r(t[u])&&(i[++o]=u)}return i}function T(t,n,r,e,o,i){if(t===n)return 0!==t||1/t==1/n;var u=typeof t,a=typeof n;if("function"!=u&&"object"!=u&&"function"!=a&&"object"!=a||null==t||null==n)return t!==t&&n!==n;t:{var u=T,a=Sr(t),c=Sr(n),f=kn,l=kn;a||(f=fr.call(t),f==An?f=Rn:f!=Rn&&(a=pn(t))),c||(l=fr.call(n),l==An?l=Rn:l!=Rn&&pn(n));
var s=f==Rn,c=l==Rn,l=f==l;if(!l||a||s)if(f=s&&cr.call(t,"__wrapped__"),c=c&&cr.call(n,"__wrapped__"),f||c)t=u(f?t.value():t,c?n.value():n,r,e,o,i);else if(l){for(o||(o=[]),i||(i=[]),f=o.length;f--;)if(o[f]==t){t=i[f]==n;break t}o.push(t),i.push(n),t=(a?F:D)(t,n,u,r,e,o,i),o.pop(),i.pop()}else t=false;else t=B(t,n,f)}return t}function I(t,n){var r=[];return m(t,function(t,e,o){r.push(n(t,e,o))}),r}function O(t){var n=Cr(t),e=n.length;if(1==e){var o=n[0],i=t[o];if(q(i))return function(t){return null!=t&&t[o]===i&&cr.call(t,o)
}}for(var u=Array(e),a=Array(e);e--;)i=t[n[e]],u[e]=i,a[e]=q(i);return function(t){t:{var e=n.length;if(null==t)t=!e;else{for(var o=-1;++o<e;)if(a[o]?u[o]!==t[n[o]]:!cr.call(t,n[o])){t=false;break t}for(o=-1;++o<e;){var i=n[o];if(a[o])i=cr.call(t,i);else{var c=t[i],f=u[o],i=r;typeof i=="undefined"&&(i=T(f,c,void 0,true))}if(!i){t=false;break t}}t=true}}return t}}function R(t,n){return q(n)?function(r){return null!=r&&r[t]===n}:function(r){return null!=r&&T(n,r[t],null,true)}}function N(t){return function(n){return null==n?r:n[t]
}}function W(t,n,r,e,o){return o(t,function(t,o,i){r=e?(e=false,t):n(r,t,o,i)}),r}function S(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].c;return t}function $(t,n){var r=t;r instanceof l&&(r=r.value());for(var e=-1,o=n.length;++e<o;){var r=[r],i=n[e];hr.apply(r,i.args),r=i.func.apply(i.thisArg,r)}return r}function C(t,n,r){if(typeof t!="function")return bn;if(typeof n=="undefined")return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,o){return t.call(n,r,e,o)
};case 4:return function(r,e,o,i){return t.call(n,r,e,o,i)};case 5:return function(r,e,o,i,u){return t.call(n,r,e,o,i,u)}}return function(){return t.apply(n,arguments)}}function M(t){return _r.call(t,0)}function F(t,n,e,o,i,u,a){var c=-1,f=t.length,l=n.length,s=true;if(f!=l&&(!i||l<=f))return false;for(;s&&++c<f;){var _=t[c],p=n[c],s=r;if(o&&(s=i?o(p,_,c):o(_,p,c)),typeof s=="undefined")if(i)for(var h=l;h--&&(p=n[h],!(s=_&&_===p||e(_,p,o,i,u,a))););else s=_&&_===p||e(_,p,o,i,u,a)}return!!s}function B(t,n,r){switch(r){case xn:case En:return+t==+n;
case Tn:return t.name==n.name&&t.message==n.message;case On:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case Nn:case Wn:return t==n+""}return false}function D(t,n,e,o,i,u,a){var c=Cr(t),f=c.length,l=Cr(n).length;if(f!=l&&!i)return false;for(var s,l=-1;++l<f;){var _=c[l],p=cr.call(n,_);if(p){var h=t[_],v=n[_],p=r;o&&(p=i?o(v,h,_):o(h,v,_)),typeof p=="undefined"&&(p=h&&h===v||e(h,v,o,i,u,a))}if(!p)return false;s||(s="constructor"==_)}return s||(e=t.constructor,o=n.constructor,!(e!=o&&"constructor"in t&&"constructor"in n)||typeof e=="function"&&e instanceof e&&typeof o=="function"&&o instanceof o)?true:false
}function U(t,n,r){var e=r?xr:kr,o=e,i=o;return m(t,function(t,u,a){u=n(t,u,a),((r?u<o:u>o)||u===e&&u===i)&&(o=u,i=t)}),i}function z(t,n,r){var e=a.callback||gn,e=e===gn?d:e;return r?e(t,n,r):e}function P(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&cr.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function V(t){return t=t.constructor,typeof t=="function"&&t instanceof t||(t=Object),new t}function Y(t,n,r){var e=t.constructor;switch(n){case Sn:return M(t);case xn:case En:return new e(+t);
case $n:case Cn:case Mn:case Fn:case Bn:case Dn:case Un:case zn:case Pn:return n=t.buffer,new e(r?M(n):n,t.byteOffset,t.length);case On:case Wn:return new e(t);case Nn:var o=new e(t.source,Vn.exec(t));o.lastIndex=t.lastIndex}return o}function L(t,n){return t=+t,n=null==n?Tr:n,-1<t&&0==t%1&&t<n}function G(t,n,r){if(!ln(r))return false;var e=typeof n;return"number"==e?(e=r.length,e=J(e)&&L(n,e)):e="string"==e&&n in r,e?(n=r[n],t===t?t===n:n!==n):false}function J(t){return typeof t=="number"&&-1<t&&0==t%1&&t<=Tr
}function q(t){return t===t&&(0===t?0<1/t:!ln(t))}function H(t){for(var n=hn(t),r=n.length,e=r&&t.length,o=a.support,o=e&&J(e)&&(Sr(t)||o.nonEnumArgs&&fn(t)),i=-1,u=[];++i<r;){var c=n[i];(o&&L(c,e)||cr.call(t,c))&&u.push(c)}return u}function K(t){return ln(t)?t:Object(t)}function Q(t){return t instanceof l?t.clone():new f(t.__wrapped__,t.__chain__,s(t.__actions__))}function X(t,n,r){var e=-1,o=t?t.length:0;for(n=z(n,r,3);++e<o;)if(n(t[e],e,t))return e;return-1}function Z(t){var n=t?t.length:0;return n?t[n-1]:r
}function tn(t,n){var r=-1,e=t?t.length:0,o={};for(!e||n||Sr(t[0])||(n=[]);++r<e;){var i=t[r];n?o[i]=n[r]:i&&(o[i[0]]=i[1])}return o}function nn(t){return t=a(t),t.__chain__=true,t}function rn(t,n,r){return n.call(r,t)}function en(t,n,r){var e=Sr(t)?p:w;return(typeof n!="function"||typeof r!="undefined")&&(n=z(n,r,3)),e(t,n)}function on(t,n,e){return Sr(t)?(n=X(t,n,e),-1<n?t[n]:r):(n=z(n,e,3),A(t,n,m))}function un(t,n,r){var e=Sr(t)?v:I;return n=z(n,r,3),e(t,n)}function an(t,n,r,e){return(Sr(t)?y:W)(t,z(n,e,4),r,3>arguments.length,m)
}function cn(t,n,e){function o(){var e=n-(Wr()-l);0>=e||e>n?(c&&clearTimeout(c),e=p,c=_=p=r,e&&(h=Wr(),f=t.apply(s,a),_||c||(a=s=null))):_=setTimeout(o,e)}function i(){_&&clearTimeout(_),c=_=p=r,(y||v!==n)&&(h=Wr(),f=t.apply(s,a),_||c||(a=s=null))}function u(){if(a=arguments,l=Wr(),s=this,p=y&&(_||!g),false===v)var r=g&&!_;else{c||g||(h=l);var e=v-(l-h),u=0>=e||e>v;u?(c&&(c=clearTimeout(c)),h=l,f=t.apply(s,a)):c||(c=setTimeout(i,e))}return u&&_?_=clearTimeout(_):_||n===v||(_=setTimeout(o,n)),r&&(u=true,f=t.apply(s,a)),!u||_||c||(a=s=null),f
}var a,c,f,l,s,_,p,h=0,v=false,y=true;if(typeof t!="function")throw new TypeError(jn);if(n=0>n?0:+n||0,true===e)var g=true,y=false;else ln(e)&&(g=e.leading,v="maxWait"in e&&wr(+e.maxWait||0,n),y="trailing"in e?e.trailing:y);return u.cancel=function(){_&&clearTimeout(_),c&&clearTimeout(c),c=_=p=r},u}function fn(t){var n=u(t)?t.length:r;return J(n)&&fr.call(t)==An||false}function ln(t){var n=typeof t;return"function"==n||t&&"object"==n||false}function sn(t){return null==t?false:fr.call(t)==In?lr.test(ar.call(t)):u(t)&&Ln.test(t)||false
}function _n(t){return typeof t=="string"||u(t)&&fr.call(t)==Wn||false}function pn(t){return u(t)&&J(t.length)&&Hn[fr.call(t)]||false}function hn(t){if(null==t)return[];ln(t)||(t=Object(t));for(var n=t.length,n=n&&J(n)&&(Sr(t)||Or.nonEnumArgs&&fn(t))&&n||0,r=t.constructor,e=-1,r=typeof r=="function"&&r.prototype===t,o=Array(n),i=0<n;++e<n;)o[e]=e+"";for(var u in t)i&&L(u,n)||"constructor"==u&&(r||!cr.call(t,u))||o.push(u);return o}function vn(t){for(var n=Cr(t),r=-1,e=n.length,o=Array(e);++r<e;)o[r]=t[n[r]];
return o}function yn(t){return typeof t!="string"&&(t=null==t?"":t+""),t&&Jn.test(t)?t.replace(Gn,"\\$&"):t}function gn(t,n,r){return r&&G(t,n,r)&&(n=null),u(t)?mn(t):d(t,n)}function dn(t){return function(){return t}}function bn(t){return t}function mn(t){return O(b(t,true))}function wn(t,n,r){if(null==r){var e=ln(n),o=e&&Cr(n);((o=o&&o.length&&E(n,o))?o.length:e)||(o=false,r=n,n=t,t=this)}o||(o=E(n,Cr(n)));var i=true,e=-1,u=$r(t),a=o.length;false===r?i=false:ln(r)&&"chain"in r&&(i=r.chain);for(;++e<a;){r=o[e];
var c=n[r];t[r]=c,u&&(t.prototype[r]=function(n){return function(){var r=this.__chain__;if(i||r){var e=t(this.__wrapped__);return(e.__actions__=s(this.__actions__)).push({func:n,args:arguments,thisArg:t}),e.__chain__=r,e}return r=[this.value()],hr.apply(r,arguments),n.apply(t,r)}}(c))}return t}var jn="Expected a function",An="[object Arguments]",kn="[object Array]",xn="[object Boolean]",En="[object Date]",Tn="[object Error]",In="[object Function]",On="[object Number]",Rn="[object Object]",Nn="[object RegExp]",Wn="[object String]",Sn="[object ArrayBuffer]",$n="[object Float32Array]",Cn="[object Float64Array]",Mn="[object Int8Array]",Fn="[object Int16Array]",Bn="[object Int32Array]",Dn="[object Uint8Array]",Un="[object Uint8ClampedArray]",zn="[object Uint16Array]",Pn="[object Uint32Array]",Vn=/\w*$/,Yn=/^\s*function[ \n\r\t]+\w/,Ln=/^\[object .+?Constructor\]$/,Gn=/[.*+?^${}()|[\]\/\\]/g,Jn=RegExp(Gn.source),qn=/\bthis\b/,Hn={};
Hn[$n]=Hn[Cn]=Hn[Mn]=Hn[Fn]=Hn[Bn]=Hn[Dn]=Hn[Un]=Hn[zn]=Hn[Pn]=true,Hn[An]=Hn[kn]=Hn[Sn]=Hn[xn]=Hn[En]=Hn[Tn]=Hn[In]=Hn["[object Map]"]=Hn[On]=Hn[Rn]=Hn[Nn]=Hn["[object Set]"]=Hn[Wn]=Hn["[object WeakMap]"]=false;var Kn={};Kn[An]=Kn[kn]=Kn[Sn]=Kn[xn]=Kn[En]=Kn[$n]=Kn[Cn]=Kn[Mn]=Kn[Fn]=Kn[Bn]=Kn[On]=Kn[Rn]=Kn[Nn]=Kn[Wn]=Kn[Dn]=Kn[Un]=Kn[zn]=Kn[Pn]=true,Kn[Tn]=Kn[In]=Kn["[object Map]"]=Kn["[object Set]"]=Kn["[object WeakMap]"]=false;var Qn={leading:false,maxWait:0,trailing:false},Xn={"function":true,object:true},Zn=Xn[typeof exports]&&exports&&!exports.nodeType&&exports,tr=Xn[typeof module]&&module&&!module.nodeType&&module;
n=Zn&&tr&&typeof global=="object"&&global;var nr=Xn[typeof t]&&t,rr=tr&&tr.exports===Zn&&Zn,er=n||nr!==(this&&this.window)&&nr||this,or=Array.prototype,ir=Object.prototype,ur=String.prototype,ar=Function.prototype.toString,cr=ir.hasOwnProperty,fr=ir.toString,lr=RegExp("^"+yn(fr).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sr=sn(sr=er.ArrayBuffer)&&sr,_r=sn(_r=sr&&new sr(0).slice)&&_r,pr=Math.floor,hr=or.push,vr=ir.propertyIsEnumerable,yr=sn(yr=er.Uint8Array)&&yr,gr=sn(gr=er.WeakMap)&&gr,dr=function(){try{var t=sn(t=er.Float64Array)&&t,n=new t(new sr(10),0,1)&&t
}catch(r){}return n}(),br=sn(br=Array.isArray)&&br,mr=sn(mr=Object.keys)&&mr,wr=Math.max,jr=Math.min,Ar=sn(Ar=Date.now)&&Ar,kr=Number.NEGATIVE_INFINITY,xr=Number.POSITIVE_INFINITY,Er=dr?dr.BYTES_PER_ELEMENT:0,Tr=Math.pow(2,53)-1,Ir=gr&&new gr,Or=a.support={};!function(t){Or.funcDecomp=!sn(er.WinRTError)&&qn.test(function(){return this}),Or.funcNames=typeof Function.name=="string";try{Or.nonEnumArgs=!vr.call(arguments,1)}catch(n){Or.nonEnumArgs=true}}(0,0);var Rr=function(){function t(){}return function(n){if(ln(n)){t.prototype=n;
var r=new t;t.prototype=null}return r||er.Object()}}(),Nr=Ir?function(t,n){return Ir.set(t,n),t}:bn;_r||(M=sr&&yr?function(t){var n=t.byteLength,r=dr?pr(n/Er):0,e=r*Er,o=new sr(n);if(r){var i=new dr(o,0,r);i.set(new dr(t,0,r))}return n!=e&&(i=new yr(o,e),i.set(new yr(t,e))),o}:dn(null));var Wr=Ar||function(){return(new Date).getTime()},Sr=br||function(t){return u(t)&&J(t.length)&&fr.call(t)==kn||false},$r=e(/x/)||yr&&!e(yr)?function(t){return fr.call(t)==In}:e,Cr=mr?function(t){if(t)var n=t.constructor,r=t.length;
return typeof n=="function"&&n.prototype===t||typeof t!="function"&&r&&J(r)?H(t):ln(t)?mr(t):[]}:H,Mr=function(t,n){return function(r,e,i){i&&G(r,e,i)&&(e=null);var u=z(),a=null==e;if(u===d&&a||(a=false,e=u(e,i,3)),a){if(e=Sr(r),e||!_n(r))return e||(r=null==r?[]:J(r.length)?ln(r)?r:Object(r):vn(r)),t(r);e=o}return U(r,e,n)}}(function(t){for(var n=-1,r=t.length,e=kr;++n<r;){var o=t[n];o>e&&(e=o)}return e});a.prototype=c.prototype,f.prototype=Rr(c.prototype),f.prototype.constructor=f,l.prototype=Rr(c.prototype),l.prototype.constructor=l,a.callback=gn,a.chain=nn,a.constant=dn,a.debounce=cn,a.flatten=function(t,n,r){var e=t?t.length:0;
return r&&G(t,n,r)&&(n=false),e?k(t,n,false,0):[]},a.keys=Cr,a.keysIn=hn,a.map=un,a.matches=mn,a.mixin=wn,a.pluck=function(t,n){return un(t,N(n))},a.reject=function(t,n,r){var e=Sr(t)?h:j;return n=z(n,r,3),e(t,function(t,r,e){return!n(t,r,e)})},a.sortBy=function(t,n,r){if(null==t)return[];var e=-1,o=t.length,u=J(o)?Array(o):[];return r&&G(t,n,r)&&(n=null),n=z(n,r,3),m(t,function(t,r,o){u[++e]={a:n(t,r,o),b:e,c:t}}),S(u,i)},a.tap=function(t,n,r){return n.call(r,t),t},a.throttle=function(t,n,r){var e=true,o=true;
if(typeof t!="function")throw new TypeError(jn);return false===r?e=false:ln(r)&&(e="leading"in r?!!r.leading:e,o="trailing"in r?!!r.trailing:o),Qn.leading=e,Qn.maxWait=+n,Qn.trailing=o,cn(t,n,Qn)},a.thru=rn,a.values=vn,a.zipObject=tn,a.collect=un,a.iteratee=gn,a.object=tn,wn(a,a),a.escapeRegExp=yn,a.every=en,a.find=on,a.findIndex=X,a.identity=bn,a.isArguments=fn,a.isArray=Sr,a.isEmpty=function(t){if(null==t)return true;var n=t.length;return J(n)&&(Sr(t)||_n(t)||fn(t)||u(t)&&$r(t.splice))?!n:!Cr(t).length},a.isFunction=$r,a.isNative=sn,a.isObject=ln,a.isString=_n,a.isTypedArray=pn,a.last=Z,a.max=Mr,a.now=Wr,a.reduce=an,a.all=en,a.detect=on,a.foldl=an,a.inject=an,wn(a,function(){var t={};
return x(a,function(n,r){a.prototype[r]||(t[r]=n)}),t}(),false),a.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return sample(n,t)}):sample(this.value())},a.VERSION="3.5.0",_(["dropWhile","filter","map","takeWhile"],function(t,n){var r=2!=n,e=0==n;l.prototype[t]=function(t,o){var i=this.__filtered__,u=i&&e?new l(this):this.clone();return(u.__iteratees__||(u.__iteratees__=[])).push({done:false,count:0,index:0,iteratee:z(t,o,1),limit:-1,type:n}),u.__filtered__=i||r,u}}),_(["drop","take"],function(t,n){var r=t+"While";
l.prototype[t]=function(r){var e=this.__filtered__,o=e&&!n?this.dropWhile():this.clone();return r=null==r?1:wr(pr(r)||0,0),e?n?o.__takeCount__=jr(o.__takeCount__,r):Z(o.__iteratees__).limit=r:(o.__views__||(o.__views__=[])).push({size:r,type:t+(0>o.__dir__?"Right":"")}),o},l.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()},l.prototype[t+"RightWhile"]=function(t,n){return this.reverse()[r](t,n).reverse()}}),_(["first","last"],function(t,n){var r="take"+(n?"Right":"");l.prototype[t]=function(){return this[r](1).value()[0]
}}),_(["initial","rest"],function(t,n){var r="drop"+(n?"":"Right");l.prototype[t]=function(){return this[r](1)}}),_(["pluck","where"],function(t,n){var r=n?"filter":"map",e=n?O:N;l.prototype[t]=function(t){return this[r](e(t))}}),l.prototype.compact=function(){return this.filter(bn)},l.prototype.reject=function(t,n){return t=z(t,n,1),this.filter(function(n){return!t(n)})},l.prototype.slice=function(t,n){t=null==t?0:+t||0;var r=0>t?this.takeRight(-t):this.drop(t);return typeof n!="undefined"&&(n=+n||0,r=0>n?r.dropRight(-n):r.take(n-t)),r
},l.prototype.toArray=function(){return this.drop(0)},x(l.prototype,function(t,n){var r=a[n],e=/^(?:filter|map|reject)|While$/.test(n),o=/^(?:first|last)$/.test(n);a.prototype[n]=function(){var n=arguments,i=this.__chain__,u=this.__wrapped__,c=!!this.__actions__.length,s=u instanceof l,_=n[0],p=s||Sr(u);return p&&e&&typeof _=="function"&&1!=_.length&&(s=p=false),_=s&&!c,o&&!i?_?t.call(u):r.call(a,this.value()):(s=function(t){return t=[t],hr.apply(t,n),r.apply(a,t)},p?(u=_?u:new l(this),u=t.apply(u,n),o||!c&&!u.__actions__||(u.__actions__||(u.__actions__=[])).push({func:rn,args:[s],thisArg:a}),new f(u,i)):this.thru(s))
}}),_("concat join pop push replace shift sort splice split unshift".split(" "),function(t){var n=(/^(?:replace|split)$/.test(t)?ur:or)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(t);a.prototype[t]=function(){var t=arguments;return e&&!this.__chain__?n.apply(this.value(),t):this[r](function(r){return n.apply(r,t)})}}),l.prototype.clone=function(){var t=this.__actions__,n=this.__iteratees__,r=this.__views__,e=new l(this.__wrapped__);return e.__actions__=t?s(t):null,e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=n?s(n):null,e.__takeCount__=this.__takeCount__,e.__views__=r?s(r):null,e
},l.prototype.reverse=function(){if(this.__filtered__){var t=new l(this);t.__dir__=-1,t.__filtered__=true}else t=this.clone(),t.__dir__*=-1;return t},l.prototype.value=function(){var t=this.__wrapped__.value();if(!Sr(t))return $(t,this.__actions__);var n,r=this.__dir__,e=0>r;n=0;for(var o=t.length,i=this.__views__,u=-1,a=i?i.length:0;++u<a;){var c=i[u],f=c.size;switch(c.type){case"drop":n+=f;break;case"dropRight":o-=f;break;case"take":o=jr(o,n+f);break;case"takeRight":n=wr(n,o-f)}}n={start:n,end:o},o=n.start,i=n.end,n=i-o,o=e?i:o-1,i=jr(n,this.__takeCount__),a=(u=this.__iteratees__)?u.length:0,c=0,f=[];
t:for(;n--&&c<i;){for(var o=o+r,l=-1,s=t[o];++l<a;){var _=u[l],p=_.iteratee,h=_.type;if(0==h){if(_.done&&(e?o>_.index:o<_.index)&&(_.count=0,_.done=false),_.index=o,!(_.done||(h=_.limit,_.done=-1<h?_.count++>=h:!p(s))))continue t}else if(_=p(s),2==h)s=_;else if(!_){if(1==h)continue t;break t}}f[c++]=s}return f},a.prototype.chain=function(){return nn(this)},a.prototype.commit=function(){return new f(this.value(),this.__chain__)},a.prototype.plant=function(t){for(var n,r=this;r instanceof c;){var e=Q(r);
n?o.__wrapped__=e:n=e;var o=e,r=r.__wrapped__}return o.__wrapped__=t,n},a.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof l?(this.__actions__.length&&(t=new l(this)),new f(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})},a.prototype.toString=function(){return this.value()+""},a.prototype.run=a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function(){return $(this.__wrapped__,this.__actions__)},a.prototype.collect=a.prototype.map,a.prototype.head=a.prototype.first,a.prototype.select=a.prototype.filter,a.prototype.tail=a.prototype.rest,typeof define=="function"&&typeof define.amd=="object"&&define.amd?(er._=a, define(function(){return a
})):Zn&&tr?rr?(tr.exports=a)._=a:Zn._=a:er._=a}(this);